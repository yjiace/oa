layui.define(["table","admin","form"],(function(e){layui.$;var t=layui.admin,i=layui.table;layui.view;form=layui.form,i.render({elem:"#file_list_table",cols:[[{type:"checkbox",fixed:"left"},{field:"documentNumber",title:"文件编号"},{field:"fileName",title:"文件名"},{field:"securityClassification",title:"文件名"},{field:"size",title:"文件大小"},{field:"creator",title:"创建用户"},{field:"createTime",title:"创建时间",sort:!0},{title:"操作",minWidth:100,align:"center",fixed:"right",toolbar:"#file_list_table_edit"}]],loading:!0,url:"/file/findAll",where:{},headers:{Authorization:layui.data("layuiAdmin").Authorization},page:!0,limit:30,response:{statusCode:200},parseData:function(e){return{code:e.code,msg:e.msg,count:e.data.totalElements,data:e.data.content.map((function(e){return e.createTime=window.utils.format(null,e.createTime),e}))}},done:function(e,t,i){console.log(e),console.log(t),console.log(i)},text:{none:"暂无数据"}}),i.on("tool(file_list_table)",(function(e){var l=e.data;console.log(l),"del"===e.event&&layer.confirm("确定要删除？",(function(e){t.reqAsync({url:"/file/deleteFile",method:"DELETE",data:{id:l.id},done:function(t){200===t.code&&(i.reload("file_list_table"),layer.close(e))}})})),e.event})),form.on("submit(LAY-user-back-search)",(function(e){var t=e.field,l={};t.documentNumber&&(l.search_AND_LIKE_documentNumber=t.documentNumber),i.reload("file_list_table",{where:l})})),e("fileList",{})}));